---
spec_key: "apose_normalization"
version: "v1.1"
status: "retrospective"
created_date: "2026-01-16"
related_policy: "A-Pose Normalization v1.1"
note: "본 문서는 이미 Frozen 된 v1.1 구현을 사후적으로 설명하기 위해 작성된 역설계 문서이다."
---

# A-Pose Normalization v1.1 — Implementation Spec (Retrospective)

## 1. 문서 목적

본 문서는 **A-Pose Normalization v1.1 정책이 Frozen 되기까지 실제로 사용되었던 구현의 동작 방식과 의도를 사후적으로 정리한 역설계 Spec**이다.

v1.1 구현 당시에는 별도의 Spec 문서가 존재하지 않았으며,  
본 문서는 다음 목적을 가진다.

- 이미 사용·검증된 구현이 **어떤 규약과 판단 하에 동작했는지**를 명확히 기록
- Policy 문서에 정의된 Gate들이 **왜 통과되었는지**를 설명
- 이후 버전(v1.2+)에서 변경 사항을 비교할 **기준점(anchor)** 제공

⚠️ 본 문서는 새로운 구현 요구사항이나 실험을 정의하지 않는다.

---

## 2. 전체 처리 흐름 개요

A-Pose Normalization v1.1은 입력된 SMPL-X 포즈를 다음 순서로 처리한다.

1. 입력 포즈 수신 (SMPL-X 기준)
2. 전역 포즈 정렬 유지
3. 팔 관절 각도 정규화
4. 좌표계 및 축 규약 강제
5. dtype / device 규약 강제
6. 표준화된 A-Pose 출력

본 정책은 **포즈(pose)만을 대상으로 하며**,  
shape 파라미터나 메시 구조는 변경하지 않는다.

---

## 3. 입력 / 출력 계약

### 입력
- SMPL-X 포즈 파라미터
- 학습 데이터, synthetic 데이터, 추정 결과 등 다양한 입력 허용
- 입력은 유효한 SMPL-X 토폴로지를 가진다고 가정

### 출력
- 표준화된 A-Pose 상태의 SMPL-X 포즈
- 입력과 동일한 좌표계 및 스케일 유지
- downstream 측정이 바로 가능한 상태

---

## 4. 핵심 처리 로직 설명

### 4.1 전역 포즈 처리

- 전역 orientation은 유지된다.
- 포즈를 원점으로 재정렬하거나 재스케일하지 않는다.

**설계 의도**
- 초기 실험 과정에서 전역 포즈를 강제로 보정할 경우,
  downstream 측정(특히 길이·각도 계열)에서 변동성이 증가하는 문제가 관찰됨
- 이에 따라 v1.1에서는 전역 포즈를 신뢰하고 유지하는 방식을 채택

---

### 4.2 팔 관절 각도 정규화

- 팔 관절은 사전에 정의된 A-Pose 목표 각도로 회전된다.
- 회전은 관절 로컬 좌표계 기준으로 적용된다.
- 팔꿈치 관절은 과도하게 펴지거나 접히지 않도록 안정 범위 내에서 유지된다.

**관찰된 동작 특성**
- 극단적인 입력 포즈에서도 팔이 몸통과 충돌하지 않음
- 겨드랑이 영역 간섭으로 인한 측정 실패가 발생하지 않음

**관련 Policy Gate**
- Gate G1: A-Pose Angle Range Stability

---

### 4.3 좌표계 및 축 규약 강제

- SMPL-X 기본 좌표계 규약을 변경하지 않는다.
- 좌/우, 상/하, 전/후 축은 명시적으로 보존된다.
- 축 swap 또는 암묵적 미러링은 허용되지 않는다.

**관찰된 효과**
- A-Pose 정규화 이후 좌우 측정 반전 문제 미발생
- downstream 측정 로직에서 축 혼동 사례 제거

**관련 Policy Gate**
- Gate G2: Axis Contract Enforcement

---

### 4.4 dtype / device 규약 강제

- 모든 연산은 float32 기준으로 수행된다.
- 연산 device는 명시적으로 지정되며 혼용되지 않는다.
- 암묵적 dtype 캐스팅 경로는 차단된다.

**운영 관찰**
- v1.1 적용 이후 dtype/device 관련 불안정 사례 보고 없음
- 측정 결과 재현성 유지

**관련 Policy Gate**
- Gate G3: dtype / device Enforcement

---

## 5. 결정성 및 안정성

- 동일 입력에 대해 동일 출력이 생성된다.
- 무작위 요소(random seed, stochastic 연산)는 사용되지 않는다.
- 반복 실행 시 측정 결과 변동은 허용 범위 이내로 유지된다.

이 특성은 downstream 신체 측정의 안정성 확보에 기여하였다.

**관련 Policy Gate**
- Gate G4: Downstream Measurement Stability

---

## 6. 알려진 한계 (v1.1 기준)

본 Spec은 v1.1 구현의 한계를 명시적으로 기록한다.

- 입력 포즈의 유효성은 사전에 보장된다고 가정
- 손상되거나 불완전한 SMPL-X 입력에 대한 방어 로직 없음
- 허용 오차(tolerance) 값이 파라미터화되어 있지 않음

해당 항목은 이후 버전에서 개선 가능 지점이다.

---

## 7. Policy Gate와의 대응 관계

| Policy Gate | v1.1 구현에서의 충족 방식 |
|-----------|-------------------------|
| G1 A-Pose Angle Stability | 팔 관절 각도 정규화 및 안정 범위 유지 |
| G2 Axis Contract | 좌표계/축 규약 명시적 보존 |
| G3 dtype/device | float32 및 device 강제 |
| G4 Downstream Stability | 결정적 처리 + 포즈 변동성 감소 |

---

## 8. 문서 상태 및 활용 지침

- 본 Spec은 **이미 Frozen 된 정책을 설명하는 참고 문서**이다.
- 구현 변경 시에는:
  - 본 Spec 대비 변경점을 명시하거나
  - 새로운 Spec 버전을 작성한다.
- 본 문서는 v1.1의 기준 설명서로 유지된다.

---

## 9. 변경 이력

- **v1.1 (Retrospective)**
  - Frozen 정책에 대한 사후 구현 문서화
  - Policy Gate와 구현 간 연결 관계 명시
